(this.webpackJsonpomdb_searcher=this.webpackJsonpomdb_searcher||[]).push([[0],{241:function(e,t,n){},242:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),s=(n(241),n(242),n(20)),o=n.n(s),l=n(38),j=n(229),u=n(16),d=n(215),p=n.n(d),b="SEARCH_MOVIE",m="ADD_NOMINATION",O="REMOVE_NOMINATION",h="REMOVE_ALL_NOMINATION",x="MOVIE_ERROR",f="ADD_MESSAGE",y="REMOVE_MESSAGE",v="REFRESH_LOCAL_STORAGE",g="LOAD_NOMINATED_MOVIES",S="LOAD_NOMINATED_MOVIES_ERROR",E=n(317),N=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,r=Object(E.a)();n({type:f,payload:{message:e,alertType:t,id:r}}),setTimeout((function(){return n({type:y,payload:r})}),a)},I=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://www.omdbapi.com/?s=".concat(t,"&type=movie&apikey=9c01b986&page=").concat(n));case 3:r=e.sent,console.log(r),r.data.Search?(c=r.data.Search.map((function(e){return{title:e.Title,yearOfLease:e.Year,poster:e.Poster,imdbID:e.imdbID}})),i=n,s=r.data.totalResults,a({type:b,payload:{movieItems:c,newPageNum:i,totalResults:s,searchInput:t}}),1===n&&N(s+"movies found :)","success",a)):(N("Too many results. or invalid input!","error",a),a({type:x,payload:{msg:"Too many results. or invalid input!",status:r.status}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),N("Invalid input!","error",a),a({type:x,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),A=n(299),R=n(316),T=n(291),w=n(293),M=n(294),D=n(295),_=n(298),k=n(233),C=n(222),F=n.n(C),L=n(4),W=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(u.b)(),s=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I(n,1,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)("div",{style:{margin:"20px",width:"100%"},children:Object(L.jsx)(r.a.Fragment,{children:Object(L.jsx)(R.a,{children:Object(L.jsx)(T.a,{style:{marginTop:"20px"},children:Object(L.jsx)("form",{onSubmit:s,children:Object(L.jsx)(w.a,{children:Object(L.jsxs)(M.a,{container:!0,children:[Object(L.jsx)(M.a,{item:!0,lg:12,sm:12,xl:12,xs:12,children:Object(L.jsxs)(R.a,{style:{width:"100%"},children:[Object(L.jsx)(D.a,{required:!0,label:"movie title",fullWidth:!0,InputProps:{startAdornment:Object(L.jsx)(_.a,{position:"start",children:Object(L.jsx)(k.a,{fontSize:"small",color:"action",children:Object(L.jsx)(F.a,{})})})},onChange:function(e){c(e.target.value)},placeholder:"Search a movie",variant:"outlined",value:n}),Object(L.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",value:"Submit",style:{textTransform:"none",float:"left",marginTop:"10px"},children:"Search"})]})}),Object(L.jsx)(M.a,{children:Object(L.jsx)(R.a,{})})]})})})})})})})},z=n(277),P=n(303),V=n(304),G=n(306),J=n(305),q=n(318),B=n(300),H=n(29),Y=n(301),U=n(302),K=n(223),Q=n.n(K),X=n(224),Z=n.n(X),$=function(){var e=Object(u.c)((function(e){return e.movies})),t=e.movieSearched,n=e.movieNominated,a=Object(u.c)((function(e){return e.movies})),c=a.pageNum,i=a.pageSize,s=a.totalResults,j=a.searchInput,d=Object(u.b)(),p=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c*i>=s)){e.next=4;break}N("Last page","info",d),e.next=6;break;case 4:return e.next=6,I(j,c+1,d);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(j,c-1,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return n.length<5&&!n.some((function(t){return t.imdbID===e.imdbID}))?Object(L.jsx)(A.a,{variant:"contained",color:"primary",style:{textTransform:"none"},onClick:function(){return function(e,t){try{t({type:m,payload:e}),t({type:v,payload:{}}),N("Success nominate a movie","info",t)}catch(n){N("Nomination Error :( ","error",t),t({type:x,payload:{msg:n}})}}(e,d)},children:"Nominate"}):null};return Object(L.jsx)("div",{style:{margin:"20px"},children:Object(L.jsx)(r.a.Fragment,{children:Object(L.jsxs)(T.a,{style:{marginTop:"20px"},children:[Object(L.jsx)("div",{slot:"header",style:{textAlign:"left"},children:Object(L.jsx)(B.a,{title:""!==j?'Results for "'.concat(j,'"'):"Results",action:Object(L.jsxs)("div",{style:{justifyContent:"space-between",display:"flex"},children:[Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(L.jsx)(H.a,{align:"center",children:"".concat(c," / ").concat(Math.floor(s/i+1)," - ").concat(s)})}),Object(L.jsx)("div",{style:{},children:Object(L.jsx)(Y.a,{color:"primary",onClick:b,"aria-label":"pre page",children:Object(L.jsx)(Q.a,{})})}),Object(L.jsx)("div",{style:{},children:Object(L.jsx)(Y.a,{color:"primary",onClick:p,"aria-label":"next page",children:Object(L.jsx)(Z.a,{})})})]})})}),Object(L.jsx)(U.a,{}),0!==t.length&&Object(L.jsx)(z.a,{children:t.map((function(e,n){return Object(L.jsxs)(P.a,{divider:n<t.length-1,children:[Object(L.jsx)(V.a,{children:Object(L.jsx)(q.a,{src:e.poster})}),Object(L.jsx)(J.a,{primary:e.title,secondary:"Posted on ".concat(e.yearOfLease)}),Object(L.jsx)(G.a,{children:O(e)})]},e.imdbID)}))})]})})})},ee=n(225),te=n.n(ee),ne=function(){var e=Object(u.c)((function(e){return e.movies})),t=Object(u.b)(),n=e.movieNominated;return Object(L.jsx)("div",{style:{margin:"20px"},children:Object(L.jsx)(r.a.Fragment,{children:Object(L.jsxs)(T.a,{style:{marginTop:"20px"},children:[Object(L.jsx)(B.a,{title:"Nominated Movies",style:{textAlign:"left"},action:Object(L.jsx)("div",{children:Object(L.jsx)(Y.a,{color:"secondary",onClick:function(){!function(e){try{e({type:h,payload:null}),e({type:v,payload:{}}),N("Success remove all nominated ","success",e)}catch(t){e({type:x,payload:{msg:t}})}}(t)},"aria-label":"clear",children:Object(L.jsx)(te.a,{})})})}),Object(L.jsx)(U.a,{}),0!==n.length&&Object(L.jsx)(z.a,{children:n.map((function(e,a){return Object(L.jsxs)(P.a,{divider:a<n.length-1,children:[Object(L.jsx)(V.a,{children:Object(L.jsx)(q.a,{src:e.poster})}),Object(L.jsx)(J.a,{primary:e.title,secondary:"Posted on ".concat(e.yearOfLease)}),Object(L.jsx)(G.a,{children:Object(L.jsx)(A.a,{variant:"contained",color:"secondary",style:{textTransform:"none"},onClick:function(){return function(e,t){try{t({type:O,payload:e}),t({type:v,payload:{}}),N("Success remove nominated movie ","success",t)}catch(n){N("Remove Nomination Error :(","error",t),t({type:x,payload:{msg:n}})}}(e,t)},children:"Remove"})})]},e.imdbID)}))})]})})})},ae=n(313),re=n(307),ce=n(308),ie=n(309),se=n(226),oe=n.n(se),le=function(){return Object(L.jsx)(re.a,{position:"static",elevation:0,children:Object(L.jsxs)(ce.a,{style:{height:20},children:[Object(L.jsx)(ie.a,{children:Object(L.jsx)(oe.a,{})}),Object(L.jsx)(H.a,{variant:"h3",color:"inherit",children:"\xa0 The Shoppies"})]})})},je=n(90),ue=function(){var e=Object(u.c)((function(e){return e.messages})),t=e?e.messageArray:[],n=Object(je.b)().enqueueSnackbar;return Object(L.jsx)(L.Fragment,{children:null!==t&&t.length>0&&t.map((function(e,t){var a;n((a=e).message,{variant:a.alertType,preventDuplicate:!0})}))})},de=function(){var e=Object(u.b)();return Object(a.useEffect)((function(){!function(e){try{if(localStorage.nominatedMovies){var t=JSON.parse(localStorage.getItem("nominatedMovies")||"[]");e({type:g,payload:t}),N("Success load nominated movie","info",e),N("Welcome back ! :)","success",e)}}catch(n){N("Load error :(","warning",e),e({type:S,payload:{msg:n}})}}(e)})),Object(L.jsxs)(r.a.Fragment,{children:[Object(L.jsx)(le,{}),Object(L.jsx)(ue,{}),Object(L.jsxs)(ae.a,{style:{margin:"auto"},children:[Object(L.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(L.jsx)(W,{})}),Object(L.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(L.jsxs)(M.a,{container:!0,children:[Object(L.jsx)(M.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(L.jsx)($,{})}),Object(L.jsx)(M.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(L.jsx)(ne,{})})]})})]})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,320)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},be=n(66),me=n(227),Oe="USER_TYPE",he=n(91),xe=n(14),fe={movieSearched:[],movieNominated:[],searchInput:"",pageNum:1,pageSize:10,totalResults:0,error:{}},ye={messageArray:[]},ve=Object(be.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return console.log("user reducer",t.payload),t.payload;default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:return Object(xe.a)(Object(xe.a)({},e),{},{movieSearched:a.movieItems,pageNum:a.newPageNum,totalResults:a.totalResults,searchInput:a.searchInput});case m:return Object(xe.a)(Object(xe.a)({},e),{},{movieNominated:[].concat(Object(he.a)(e.movieNominated),[a])});case O:return Object(xe.a)(Object(xe.a)({},e),{},{movieNominated:e.movieNominated.filter((function(e){return e!==a}))});case h:return Object(xe.a)(Object(xe.a)({},e),{},{movieNominated:[]});case v:return localStorage.setItem("nominatedMovies",JSON.stringify(e.movieNominated)),e;case g:return Object(xe.a)(Object(xe.a)({},e),{},{movieNominated:a});case S:case x:return Object(xe.a)(Object(xe.a)({},e),{},{error:a});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_MESSAGE":return Object(xe.a)(Object(xe.a)({},e),{},{messageArray:[].concat(Object(he.a)(e.messageArray),[a])});case"REMOVE_MESSAGE":return Object(xe.a)(Object(xe.a)({},e),{},{messageArray:e.messageArray.filter((function(e){return e.id!==a}))});default:return e}}}),ge={},Se=function(){return Object(be.createStore)(ve,ge,Object(me.composeWithDevTools)())},Ee=n(228),Ne=n(35),Ie=Object(Ee.a)({palette:{primary:{main:"#339df1",contrastText:"#fff"},background:{default:"#F4F6F8",paper:Ne.a.common.white},text:{primary:"#172b4d",secondary:"#6b778c"}},typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),Ae=n(314);i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(u.a,{store:Se(),children:Object(L.jsx)(je.a,{maxSnack:3,children:Object(L.jsx)(Ae.a,{theme:Ie,children:Object(L.jsx)(de,{})})})})}),document.getElementById("root")),pe()}},[[267,1,2]]]);
//# sourceMappingURL=main.30dd236e.chunk.js.map